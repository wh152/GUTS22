<!DOCTYPE html>
<!-- Saleem BHatti, Sep 2018 -->
<html>

<head>
  <meta charset="utf-8" />
  <title>Reverse a Document</title>
</head>

<body>

  <h1>Reverse a Document</h1>
  <p>Paragraph 1</p>
  <p>Paragraph 2</p>
  <p>Paragraph 3</p>
  <p>Look at the Javascript to see what is happening.</p>
  <button onclick="reverse(document.body);">Click to reverse</button>

<script>
"use strict";

function reverse(n) {
  if (n.nodeType == Node.TEXT_NODE) {
    let text = n.data;
    let reversed = "";
    for (let i = text.length - 1; i >= 0; i--) {
      reversed += text.charAt(i);
      n.data = reversed;
    }
  }
  else {
    let kids = n.childNodes;
    let numkids = kids.length;
    for (let i = numkids - 1; i >= 0; i--) {
      reverse(kids[i]);
      n.appendChild(n.removeChild(kids[i]));
    }
  }
}
</script>

</body>

</html>
